<div class="container">
  <div class="pure-g">
    <div class="pure-u-1">
      <mat-card>
        <div class="pure-g">
          <form [formGroup]="userForm">
            <div class="pure-u-1">
              <button mat-fab color="primary" (click)="imgFileInput.click()">
                <mat-icon aria-label="Tirar Foto">add_a_photo</mat-icon>
                <input
                  hidden
                  type="file"
                  accept="image/*"
                  id="imgupload"
                  capture="camera"
                  #imgFileInput
                />
              </button>
            </div>
            <div class="pure-u-sm-1 pure-u-md-1-2">
              <div class="form-control">
                <mat-form-field>
                  <input
                    matInput
                    [(ngModel)]="user.name"
                    formControlName="name"
                    type="text"
                    placeholder="Nome"
                    required
                  />
                </mat-form-field>
              </div>
            </div>
            <div class="pure-u-sm-1 pure-u-md-1-2">
              <div class="form-control">
                <mat-form-field>
                  <input
                    matInput
                    [(ngModel)]="user.email"
                    formControlName="email"
                    type="email"
                    placeholder="Email"
                    required
                  />
                </mat-form-field>
              </div>
            </div>
            <div class="pure-u-sm-1 pure-u-md-1-5">
              <div class="form-control">
                <mat-form-field>
                  <input
                    matInput
                    [(ngModel)]="user.cpf"
                    formControlName="cpf"
                    type="text"
                    placeholder="CPF"
                    required
                  />
                </mat-form-field>
              </div>
            </div>
            <div class="pure-u-sm-1 pure-u-md-2-5">
                <div class="form-control">
                  <mat-form-field>
                    <input
                      matInput
                      [(ngModel)]="user.phone"
                      formControlName="phone"
                      type="text"
                      placeholder="Telefone"
                      required
                    />
                  </mat-form-field>
                </div>
              </div>
            <div class="pure-u-sm-1 pure-u-md-2-5">
              <div class="form-control">
                <mat-form-field>
                  <input
                    matInput
                    [(ngModel)]="user.birthDate"
                    formControlName="birthDate"
                    [min]="minDate"
                    [max]="maxDate"
                    [matDatepicker]="picker"
                    placeholder="Data de Nascimento"
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="picker"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
            <div class="pure-u-sm-1 pure-u-md-1-2">
              <div class="form-control">
                <mat-form-field>
                  <mat-select
                    [(ngModel)]="user.gender"
                    formControlName="gender"
                    placeholder="Sexo"
                    required
                  >
                    <mat-option
                      *ngFor="let gender of genderArray"
                      [value]="gender"
                    >
                      {{ gender }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="pure-u-sm-1 pure-u-md-1-2">
              <div class="form-control">
                <mat-form-field>
                  <mat-select
                    [(ngModel)]="user.area"
                    formControlName="area"
                    placeholder="Area Profissional"
                    required
                  >
                    <mat-option *ngFor="let area of areaArray" [value]="area">
                      {{ area }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div *ngIf="isCreating" class="pure-u-sm-1 pure-u-md-1-2">
              <div class="form-control">
                <mat-form-field>
                  <input
                    matInput
                    [(ngModel)]="user.password"
                    formControlName="password"
                    [type]="hide ? 'password' : 'text'"
                    placeholder="Senha"
                    required
                  />
                  <mat-icon matSuffix (click)="hide = !hide">{{
                    hide ? "visibility" : "visibility_off"
                  }}</mat-icon>
                </mat-form-field>
              </div>
            </div>
            <div *ngIf="isCreating" class="pure-u-sm-1 pure-u-md-1-2">
              <div class="form-control">
                <mat-form-field>
                  <input
                    matInput
                    formControlName="passwordConfirm"
                    [type]="hideConfirm ? 'password' : 'text'"
                    placeholder="Confirme sua Senha"
                    required
                  />
                  <mat-icon matSuffix (click)="hideConfirm = !hideConfirm">{{
                    hideConfirm ? "visibility" : "visibility_off"
                  }}</mat-icon>
                </mat-form-field>
              </div>
            </div>

            <div class="pure-u-1">
              <div class="row-center">
                <button
                  [disabled]="userForm.invalid"
                  mat-raised-button
                  type="submit"
                  color="primary"
                  class="w-50"
                  (click)="createOrUpdate()"
                >
                  Cadastrar
                </button>
              </div>
            </div>
          </form>
        </div>
      </mat-card>
    </div>
  </div>
</div>
